<!DOCTYPE HTML>
<!--
	Telephasic by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Map</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />

		<script src="/jquery.min.js"></script>
		<script src="/jquery.dropotron.min.js"></script>
		<script src="/skel.min.js"></script>
		<script src="/skel-layers.min.js"></script>
		<!--js for left menu-->
		
		
		<!--js and style for dropdown menu on map-->
		<script type="text/javascript" src="/gdropdown.js"></script>
		
		<script src="/init.js"></script>

		<noscript>
			<link rel="stylesheet" href="/skel.css" />
			<link rel="stylesheet" href="/style.css" />
		</noscript>
			<link rel="stylesheet" href="/recommendation_table.css" />
			<link rel="stylesheet" type="text/css" href="/gdropdown.css" />
		
		<!--[if lte IE 8]><link rel="stylesheet" href="/ie/v8.css" /><![endif]-->

		<style>
			#main{
				margin-left: 5%;
	      		margin-right: 5%;
	      		margin-top:-70px;
				height:100%;
			}
	      #map {
		  margin-left:50px;
	      	/*margin-right: 5%;
	      	margin-top:-70px;*/
	        width: 70%;
			
	        height: 500px;
			
	      }
		  #left-menu{
		  width:30%;
		  float:left;	
		  height:500px;
		  }
	    </style>
	    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
	 <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&libraries=weather,places&language=en-AU"></script>
	 <script type="text/javascript">
	var directionsService = new google.maps.DirectionsService();
	var directionsDisplay = new google.maps.DirectionsRenderer();
	var marker;
	</script>
	</head>
	<body class="right-sidebar" >

		<!-- Header -->
			<div id="header-wrapper" style="height:100%">
				<div id="header" class="container">
				<!-- Logo -->
						<h1 id="logo"><a href="#">Kent Explore</a></h1>

					<!-- Nav -->
						<nav id="nav">
							<ul>
								<li><a href="/">Home</a></li>
								<li><a href="/map">Map</a></li>
								<li class="break"><a href="/interests">Interests</a></li>
								<li><a href="/aboutus">About Us</a></li>
							</ul>
						</nav>

				</div>
			</div>
		<!-- Header End-->

		<!-- Main -->
		<div class="wrapper" id="main">
		<div id="left-menu" >

		
			<div id="D1">
						<form id="myform1" name="myform1">
						<img src="/scripts/A.png" style="width:20px;height:30px;padding-right:5px;float:left">
						<input class="searchbox" style="text-align: left;width:90%;height:50px;" id="address" type="text" size="6" autofocus ></b>
						</br>
						&nbsp;&nbsp;&nbsp;
						<a href="#" id="1" onclick="myFunction1();" class="directionButton"/>Get Directions</a>&nbsp;&nbsp;&nbsp;&nbsp;
						<a href="#" onclick="codeAddress();" class="directionButton"/>Search</a>
						</form>
			</div>		
			<div id="D2" style="display: none">
						<form id="myform2" name="myform2">
						<img src="/scripts/B.png" style="width:20px;height:30px;padding-right:5px;float:left">
						<input class="searchbox1" style="text-align: left;width:90%;height:50px;" id="address1" type="text" size="6" ></b>
						</br>
						<img src="/scripts/A.png" style="width:20px;height:30px;padding-right:5px;float:left">
						<input class="searchbox2" style="text-align: left;width:90%;height:50px;" id="address2" type="text" size="6" ></b>
						</br>
						&nbsp;&nbsp;&nbsp;
						<a href="#" id="1" onclick="direction();" class="directionButton"/>Get Directions</a>&nbsp;&nbsp;&nbsp;&nbsp;
						<a href="#" onclick="myFunction2();" class="directionButton"/>Search</a>
						</br>
						<div id="route-results" style="overflow-y: scroll;height:295px;text-align:left;"></div>
						</form>
			</div>
			<script>
		 var autocomplete = new google.maps.places.Autocomplete($("#address")[0], {});
            google.maps.event.addListener(autocomplete, 'place_changed', function() {
                var place = autocomplete.getPlace();
            });
			    var autocomplete = new google.maps.places.Autocomplete($("#address1")[0], {});
            google.maps.event.addListener(autocomplete, 'place_changed', function() {
                var place = autocomplete.getPlace();
            });
			    var autocomplete = new google.maps.places.Autocomplete($("#address2")[0], {});
            google.maps.event.addListener(autocomplete, 'place_changed', function() {
                var place = autocomplete.getPlace();
            });
        </script>
	
		</div>

		<!-- Container for google map -->
		<input type="hidden" id="trafficToggle">
		<input type="hidden" id="weatherToggle">
		<div id="map"></div>
		<script type="text/javascript">
            var MapOption={
			center:new google.maps.LatLng(41.1536111,-81.3580556),
			zoom: 12,
			mapTypeControl:true,
		    mapTypeControlOptions: {
		      style:google.maps.MapTypeControlStyle.DROPDOWN_MENU
		    },
			mapTypeId:google.maps.MapTypeId.TERRAIN,
			mapTypeId:google.maps.MapTypeId.SATELLITE,
			mapTypeId:google.maps.MapTypeId.HYBRID,
			mapTypeId:google.maps.MapTypeId.ROADMAP
			};
			var map=new google.maps.Map(document.getElementById('map'),MapOption)
			trafficLayer = new google.maps.TrafficLayer();
            google.maps.event.addDomListener(document.getElementById('trafficToggle'), 'click', toggleTraffic);
			
			weatherLayer = new google.maps.weather.WeatherLayer({temperatureUnits: google.maps.weather.TemperatureUnit.FAHRENHEIT});
            google.maps.event.addDomListener(document.getElementById('weatherToggle'), 'click', toggleweather);
		    cloudLayer = new google.maps.weather.CloudLayer();
  			
  			//create the check box items
        var checkOptions = {
        		gmap: map,
        		title: "Traffic",
        		id: "traffic",
        		label: "Traffic",				
        		action: function(){
        			toggleTraffic();
        		}        		        		
        }
        var check1 = new checkBox(checkOptions);
        
        var checkOptions2 = {
        		gmap: map,
        		title: "weather",
        		id: "weather",
        		label: "Weather",
        		action: function(){
        			toggleweather();
        		}        		        		
        }
        var check2 = new checkBox(checkOptions2);

        var checkOptions3 = {
            gmap: map,
            title: "downtown",
            id: "downtown",
            label: "Downtown",
            action: function(){
              alert('you clicked check 2');
            }                       
        }
        var check3 = new checkBox(checkOptions3);

        var checkOptions4 = {
            gmap: map,
            title: "restaurants",
            id: "restaurants",
            label: "Restaurants",
            action: function(){
              alert('you clicked check 2');
            }                       
        }
        var check4 = new checkBox(checkOptions4);

        var checkOptions4 = {
            gmap: map,
            title: "restaurants",
            id: "restaurants",
            label: "Restaurants",
            action: function(){
              alert('you clicked check 2');
            }                       
        }
        var check4 = new checkBox(checkOptions4);

        var checkOptions5 = {
            gmap: map,
            title: "apartnments",
            id: "apartnments",
            label: "Apartnments",
            action: function(){
              alert('you clicked check 2');
            }                       
        }
        var check5 = new checkBox(checkOptions5);

        var checkOptions6 = {
            gmap: map,
            title: "sports",
            id: "sports",
            label: "Sports",
            action: function(){
              alert('you clicked check 2');
            }                       
        }
        var check6 = new checkBox(checkOptions6);

        var checkOptions7 = {
            gmap: map,
            title: "ksu",
            id: "ksu",
            label: "KSU",
            action: function(){
              alert('you clicked check 2');
            }                       
        }
        var check7 = new checkBox(checkOptions7);

        var checkOptions8 = {
            gmap: map,
            title: "hotels",
            id: "hotels",
            label: "Hotels",
            action: function(){
              alert('you clicked check 2');
            }                       
        }
        var check8 = new checkBox(checkOptions8);
        //set options
        // var divOptions = {
        //     gmap: map,
        //     name: 'Option1',
        //     title: "This acts like a button or click event",
        //     id: "mapOpt",
        //     action: function(){
        //       alert('option1');
        //     }
        // }
        // var optionDiv1 = new optionDiv(divOptions);
        
        
        
        //create the input box items
        
        //possibly add a separator between controls        
        var sep = new separator();
        
        //put them all together to create the drop down       
        var ddDivOptions = {
        	items: [sep, check1, check2,check3,check4,check5,check6,check7,check8],
        	id: "myddOptsDiv"        		
        }
        //alert(ddDivOptions.items[1]);
        var dropDownDiv = new dropDownOptionsDiv(ddDivOptions);               
                
        var dropDownOptions = {
        		gmap: map,
        		name: 'Options',
        		id: 'ddControl',
        		title: '',
        		position: google.maps.ControlPosition.TOP_RIGHT,
        		dropDown: dropDownDiv 
        }
        
        var dropDown1 = new dropDownControl(dropDownOptions);     
			
			function toggleTraffic(){
				if(trafficLayer.getMap() == null){
					//traffic layer is disabled.. enable it
					trafficLayer.setMap(map);
				} else {
					//traffic layer is enabled.. disable it
					trafficLayer.setMap(null);             
				}
			}
			
			function toggleweather(){
				if(weatherLayer.getMap() == null){
					//traffic layer is disabled.. enable it
					weatherLayer.setMap(map);
					cloudLayer.setMap(map);
				} else {
					//traffic layer is enabled.. disable it
					weatherLayer.setMap(null);  
					cloudLayer.setMap(null);
				}
			}
			
	</script>
		<br><br>

		


		<!-- Recommendations List-->

		<h3 id="recom_title"><b>Top Recommendations</b></h3>
		<div id="recom_line" style="height:10px; ;width:30%; background-color:black">&nbsp;</div>	
		<div  id="list" style="width:30%;float:left; height:50%">
                <table class="recommendation_table">
                	% if topic is None:
                		<link rel="stylesheet" href="/show_recom_title.css" />
                	% end
                	% if topic is not None:
                		
						% for each in topic:
							% item = topic[each]
							% sign_name= "/signs/" + item['type']+ ".png"
							% left_img = item["images"]
							% if left_img == "":
							% left_img = "/bg.jpg"
							% end

							 <tr class="recommendation_tr" style="height:100px">
			                       <td style="width:25%;height:100px" class="recommendation_td">
			                           <img src={{left_img}} class="recommendation_img" style="width:100%;height:80px;" ></img>
			                       </td>
			                       <td style="width:70%;height:100px;padding-left:5px;" class="recommendation_td">
			                       		<ul style="padding-top:0px">
				                       	   <li> 
				                       	   		<img src={{sign_name}} style="width:25px; height=25px; padding-top:2px">				    
				                       	   		<a href= {{item["website"]}} style="padding-top:2px; vertical-align: text-bottom; font-size:medium">{{item["title"]}}</a> 
				                           </li>
				                            
				                           <li > {{item["address"]}} </li>
				                           <li> {{item["phone"]}}	</li>
			                           </ul>
			                           
			                       </td>
			                  </tr>
			            % end
			        % end
                </table>
        </div>
            
		<!-- Top images-->
		<div id="slider" style="width: 65%; float:right; height:50%;">
			<!-- <div style="width:100%"> -->
				% if topic is not None:
					% img_id = 0
					% for each in topic:
						% item = topic[each]
					    % if (item["images"] == "" or item["website"] == ""):
					    	% continue
					    % end
						% if (img_id >= 3):
						<br>
						<div style="width:33%;height:50%; float:left">
							<a href={{item["website"]}} class="img_link">
								<img class="slider_img" style="width:100%;height:200px" src={{item["images"]}}></img>
							</a>
						</div>
						% else :
							<div style="width:33%;height:50%;float:left">
								<a href={{item["website"]}} class="img_link">
									<img class="slider_img" style="width:100%;height:200px" src={{item["images"]}}></img>
								</a>
							</div>
						% end
						% img_id = img_id + 1
				    % end
			    % end
			<!-- </div> -->

		</div>
		
		</div>
	
		
		<!-- Main End-->


	</body>
	<script type="text/javascript">  
	function codeAddress() {
	        var geocoder = new google.maps.Geocoder();
            var address = document.getElementById("address").value;
            geocoder.geocode({ 'address': address }, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {
                    var latitude = results[0].geometry.location.lat();
                    var longitude = results[0].geometry.location.lng();
					var MarkerOption=
					{
					position:new google.maps.LatLng(latitude,longitude),
                    animation: google.maps.Animation.DROP
					};
					marker=new google.maps.Marker(MarkerOption);
					marker.setMap(map);
					//Add Information Window
					var InfoOption={content:"Here is Kent State University"}
					var infoWindow=new google.maps.InfoWindow(InfoOption);
					google.maps.event.addListener(marker,'click',function(e){
					infoWindow.open(map, marker);
					});
                } else {
                    alert("Request failed.")
                }
            });	
	}
	function direction() {
		    document.getElementById("route-results").innerHTML = "";
			directionsDisplay.setMap(map);
			directionsDisplay.setPanel(document.getElementById('route-results'));
		    var start = document.getElementById("address1").value;
			var end = document.getElementById("address2").value; 
			  var request = {
				origin:start,
				destination:end,
				travelMode: google.maps.TravelMode.DRIVING
			  };
			  directionsService.route(request, function(result, status) {
				if (status == google.maps.DirectionsStatus.OK) {
				  directionsDisplay.setDirections(result);
				}
			  });
			  
	}
	function myFunction1() {
     document.getElementById('D1').style.display = "none";
	 document.getElementById('D2').style.display = "block";
	 document.getElementById("myform2").reset();
	 document.getElementById("address1").focus();
	 document.getElementById("route-results").innerHTML = "";
	 clean();
	}
	function myFunction2() {
     document.getElementById('D2').style.display = "none";
	 document.getElementById('D1').style.display = "block";
	 document.getElementById("myform1").reset();
	 document.getElementById("address").focus();
	 clean();
	}
	function clean(){
	directionsDisplay.setMap(null);
	directionsDisplay.setPanel(null);
	marker.setMap(null);
	}
 </script>
	

</html>